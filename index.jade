doctype html
html
	head
		meta(charset='utf-8')
		meta(name='viewport', content='width=device-width, height=device-height, initial-scale=1, user-scalable=no')
		title Party Mode :: An audio visualizer experiment.
		link(rel='icon', href='favicon.ico', type='image/x-icon')
		link(rel='stylesheet', href='bower_components/normalize.css/normalize.css')
		link(rel='stylesheet', href='bower_components/icomoon/dist/style.css')
		link(rel='stylesheet', href='css/style.css')
		// <script src="https://cwilso.github.io/AudioContext-MonkeyPatch/AudioContextMonkeyPatch.js"></script>
		// <script src="bower_components/underscore/underscore.js"></script>
		// <script src="http://d3js.org/d3.geo.projection.v0.min.js"></script>
		script(src='bower_components/jquery/dist/jquery.min.js')
		script(src='bower_components/d3/d3.min.js')
		script(src='bower_components/mousetrap/mousetrap.min.js')
		script(src='bower_components/id3js/dist/id3.min.js')
		script(src='bower_components/d3.hexbin/hexbin.min.js')

		script(src='js/main.js')
		script(src='//connect.soundcloud.com/sdk.js')
		// <script> $(document).ready(function() { App.init(); }); </script>
	body
		#dragover.dragover
		#tooltip.tooltip
		#modal-about.md-modal.md-effect-1
			.md-content
				// <h3>Credits</h3>
				div(style='line-height: 23px;')
					i.icon-headphones
					p
						| Party Mode is an audio visualizer experiment powered by 
						a(target='_blank', href='http://d3js.org') d3.js
						|  and the 
						a(target='_blank', href='http://www.w3.org/TR/webaudio/') web audio api
						| .  This is a work-in-progress and likely has lots of critical bugs!  It requires a modern browser (preferably Chrome) and a decent CPU.  This app was developed by 
						a(target='_blank', href='http://preziotte.com') Mathew Preziotte
						|  with lots of 
						a(target='_blank', href='https://github.com/preziotte/party-mode#help--inspiration') help and inspiration
						| .
						br
						br
						|                     Try dragging an mp3 from your desktop into the browser, or press 
						a.key(href='#', style='color: black;')
							span K
						|  for keyboard shortcuts.
						br
						br
						|                     For a list of known issues -- to help improve this experiment -- or to download and run this app locally, visit the 
						a(target='_blank', href='https://github.com/preziotte/party-mode') Github
						|  page.  Questions, comments and hugs can be directed 
						a(target='_blank', href='mailto:mat.preziotte@gmail.com') here
						| .  Thanks for looking :)  I had a lot of fun building this.
						br
						br
						div(style='text-align: right;') - Mat
					button.md-close dismiss
		#modal-keyboard.md-modal.md-effect-1
			.md-content
				// <h3>Keyboard Shortcuts</h3>
				div
					i.icon-keyboard
					ul
						li
							a.key(href='#')
								span 1
							|  through 
							a.key(href='#')
								span 7
							|  selects a visualization
						li
							a.key(href='#', style='width: 58px;')
								span space
							|  play / pause
						li
							a.key(href='#')
								span f
							| ull screen
						li
							a.key(href='#')
								span m
							| enu
						li
							a.key(href='#')
								span c
							| hange song
						li
							a.key(href='#')
								span l
							| oop random colors and visualizers
						li
							a.key(href='#')
								span ▲
							a.key(href='#')
								span ▼
							|  cycles vizualization
						li
							a.key(href='#')
								span ◀
							a.key(href='#')
								span ▶
							|  cycles color palettes
					button.md-close dismiss
		#modal-soundcloud.md-modal.md-effect-1
			.md-content
				h3 Play Audio via SoundCloud*
				div(style='line-height: 23px;')
					span(style='margin-top: -35px; display: block; font-family: helvetica neue;') *Only works in Chrome at the moment
					i#sc_icon.icon-soundcloud
					p
						br
						|                         Simply paste in a link to a 
						a(href='http://soundcloud.com') SoundCloud
						|  artist, track, or playlist and click import:
						br
						input#sc_input(placeholder='ex. https://soundcloud.com/mydevices/launch')
						button.sc_import import audio
						br
						br
						|                         You can also share it with the following URL:
						pre#sc_url(style='word-wrap: break-word; text-align: center;').
							\nhttp://preziotte.com/partymode?sc=              
					button.md-close dismiss
		.menu.menu-open
			ul
				li#circle.active(viz-num='0')
					.clicker
				li#chop(viz-num='1')
					.clicker
				li#icosahedron(viz-num='2')
					.clicker
				li#grid(viz-num='3')
					.clicker
				li#equal(viz-num='4')
					.clicker
				li#spin(viz-num='5')
					.clicker
				li#hexbin(viz-num='6')
					.clicker
				// <li id='voronoi' viz-num='7'></li>
				li.buffer
					| RETURN TO
					br
					| preziotte.com
		.wrapper
			.vinyl-container
				i.icon-vinyl
			#mp3_player.fade
				#audio_box
				i#fullscreen.icon-resize-full-alt
			#progressBar.progressBar
			.song-metadata
			.menu-controls
				i.i.icon-backward2
				i.i.icon-pause
				i.i.icon-forward2
				i.i.icon-soundcloud.schover(data-hovertext='Play music from a SoundCloud URL.')
				i.i.icon-microphone(data-hovertext='Connect to the microphone on your computer.')
			.menu-wide
				.options
					i.i.icon-menu
					i.i.icon-question
					i.i.icon-keyboard2
					i.i.icon-loop-on
						span
							| randomize visualization: 
							b off
					// <i class="i icon-volume-medium"></i>
					i.i.icon-github2
					i.i.icon-expand
				.slider
					span adjust sensitivity
					input#slider(min='1', max='100', value='20', type='range')
				.dotstyle.dotstyle-scaleup
					ul
						li.current
							a.zero(href='#') 0
						li
							a.one(href='#') 1
						li
							a.two(href='#') 2
						li
							a.three(href='#') 3
						li
							a.four(href='#') 4
						li
							a.five(href='#') 5
